{"version":3,"sources":["context-menu.es6.js","navbar.es6.js","tooltip.es6.js"],"sourcesContent":["/*\n Licensed to the Apache Software Foundation (ASF) under one\n or more contributor license agreements.  See the NOTICE file\n distributed with this work for additional information\n regarding copyright ownership.  The ASF licenses this file\n to you under the Apache License, Version 2.0 (the\n \"License\"); you may not use this file except in compliance\n with the License.  You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing,\n software distributed under the License is distributed on an\n \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n KIND, either express or implied.  See the License for the\n specific language governing permissions and limitations\n under the License.\n */\n'use strict';\n\n\nclass ContextMenu extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    static propTypes = {\n        classes: React.PropTypes.array.isRequired,\n        items: React.PropTypes.arrayOf(React.PropTypes.object).isRequired,\n        onOptionClick: React.PropTypes.func.isRequired\n    };\n\n    static defaultOptions = {\n        classes: []\n    };\n\n    componentWillMount() {\n        let _this = this;\n        var mount_point;\n        $('body').on('click.contextMenu', function (evt) {\n            /* the :not filter should've worked as a 2nd param to .on() instead of this,\n             but clicks in the page gutter were being delayed for some reason */\n            if ($(evt.target).is(':not(.contextMenu)')) {\n\n                /* if clicking directly onto another gear, set it directly.\n                 this is necessary since sometimes our jquery events seem to interfere with the react event\n                 that is supposed to handle this kind of thing */\n                if ($(evt.target).is('.config-tool')) {\n                    mount_point = $(evt.target).next().data('mount-point');\n                } else {\n                    // no current option menu\n                    mount_point = \"\";\n                }\n                _this.props.onOptionClick(mount_point);\n            }\n        });\n    }\n\n    componentWillUnmount() {\n        $(\"body\").off('click.contextMenu');  // de-register our specific click handler\n    }\n\n    render() {\n        let _this = this;\n        return (\n            <div className=\"contextMenu\">\n                <ul>{\n                    this.props.items.map(function (o, i) {\n                        return (<li key={i}>\n                            <ToolTipLink\n                                href={o.href}\n                                classes={_this.props.classes.concat([o.className])}\n                                toolTip={o.tooltip}\n                                text={o.text}/>\n                        </li>)\n                    })}\n                </ul>\n            </div>\n        )\n    }\n}\n","/*\n       Licensed to the Apache Software Foundation (ASF) under one\n       or more contributor license agreements.  See the NOTICE file\n       distributed with this work for additional information\n       regarding copyright ownership.  The ASF licenses this file\n       to you under the Apache License, Version 2.0 (the\n       \"License\"); you may not use this file except in compliance\n       with the License.  You may obtain a copy of the License at\n\n         http://www.apache.org/licenses/LICENSE-2.0\n\n       Unless required by applicable law or agreed to in writing,\n       software distributed under the License is distributed on an\n       \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n       KIND, either express or implied.  See the License for the\n       specific language governing permissions and limitations\n       under the License.\n*/\n'use strict';\n\n/**\n * Gets the current project url.\n\n * @constructor\n * @param {bool} rest - Return a \"rest\" version of the url.\n * @returns {string}\n */\nfunction _getProjectUrl(rest = true) {\n    var nbhd, proj, nbhd_proj;\n    var ident_classes = document.getElementById('page-body').className.split(' ');\n    for (var cls of ident_classes) {\n        if (cls.indexOf('project-') === 0) {\n            proj = cls.slice('project-'.length);\n        }\n    }\n    nbhd = window.location.pathname.split('/')[1];\n    if (proj === '--init--') {\n        nbhd_proj = nbhd;\n    } else {\n        nbhd_proj = `${nbhd}/${proj}`;\n    }\n    return (rest ? '/rest/' : '/') + nbhd_proj;\n}\n\n/**\n * Get a mount point from a NavBarItem node.\n\n * @constructor\n * @param {NavBarItem} node\n * @returns {string}\n */\nfunction getMountPoint(node) {\n    if(node.hasOwnProperty('mount_point') && node['mount_point'] !== null){\n        return node['mount_point'];\n    }\n    return node.props.children[0].props.mount_point;\n}\n\n/**\n * Get a url from a NavBarItem node.\n\n * @constructor\n * @param {NavBarItem} node\n * @returns {string}\n */\nfunction getUrlByNode(node) {\n    if(node.hasOwnProperty('url') && node['url'] !== null){\n        return node['url'];\n    }\n    return node.props.children[0].props.url;\n}\n\nconst ToolsPropType = React.PropTypes.shape({\n    mount_point: React.PropTypes.string,\n    name: React.PropTypes.string.isRequired,\n    url: React.PropTypes.string.isRequired,\n    is_anchored: React.PropTypes.bool.isRequired,\n    tool_name: React.PropTypes.string.isRequired,\n    icon: React.PropTypes.string,\n    children: React.PropTypes.array,\n    admin_options: React.PropTypes.array\n});\n\n/**\n * A single NavBar item.\n\n * @constructor\n */\nvar NavBarItem = React.createClass({\n    propTypes: {\n        name: React.PropTypes.string.isRequired,\n        url: React.PropTypes.string.isRequired,\n        currentOptionMenu: React.PropTypes.object,\n        onOptionClick: React.PropTypes.func.isRequired,\n        options: React.PropTypes.array\n    },\n\n    isAnchored: function() {\n        return this.props.is_anchored !== null;\n    },\n\n    render: function() {\n        var divClasses = \"tb-item tb-item-edit\";\n        if (this.props.is_anchored) {\n            divClasses += \" anchored\";\n        }\n        var spanClasses = this.props.handleType + \" ordinal-item\";\n        if (this.props.isGrouper) {\n            spanClasses += \" toolbar-grouper\"\n        }\n\n        return (\n            <div className={ divClasses }>\n                <a>\n                    {!_.isEmpty(this.props.options) && <i className='config-tool fa fa-cog' onClick={this.handleOptionClick}></i>}\n                    <span\n                        className={spanClasses}\n                        data-mount-point={this.props.mount_point}>\n                        {this.props.name}\n                    </span>\n                </a>\n                {this.props.currentOptionMenu.tool && this.props.currentOptionMenu.tool === this.props.mount_point &&\n                    <ContextMenu\n                        {...this.props}\n                        classes={['tool-options']}\n                        items={this.props.options}\n                        onOptionClick={this.props.onOptionClick}\n                    />}\n            </div>\n        );\n    },\n\n    handleOptionClick: function(event) {\n        this.props.onOptionClick(this.props.mount_point);\n    }\n});\n\n/**\n * An input component that updates the NavBar's grouping threshold.\n\n * @constructor\n */\nvar GroupingThreshold = React.createClass({\n    propTypes: {\n        initialValue: React.PropTypes.number.isRequired\n    },\n    getInitialState: function() {\n        return {\n            value: this.props.initialValue\n        };\n    },\n\n    handleChange: function(event) {\n        this.setState({\n            value: event.target.value\n        });\n        this.props.onUpdateThreshold(event);\n    },\n\n    render: function() {\n        return (\n            <div>\n                { !!this.props.isHidden &&\n                <div id='threshold-config'>\n            <span>\n              <label htmlFor='threshold-input'>Grouping Threshold</label>\n                <input type='number' name='threshold-input' className='tooltip'\n                       title='Number of tools allowed before grouping.'\n                       value={ this.state.value }\n                       onChange={ this.handleChange }\n                       min='1' max='10'/>\n              </span>\n                </div> }\n            </div>\n        );\n    }\n});\n\n/**\n * The NavBar when in \"Normal\" mode.\n\n * @constructor\n */\nvar NormalNavItem = React.createClass({\n  mixins: [React.addons.PureRenderMixin],\n\n    render: function() {\n\n        return (\n            <li key={`tb-norm-${_.uniqueId()}`}>\n                <a href={ this.props.url } className={ this.props.classes }>\n                    { this.props.name }\n                </a>\n                {this.props.children}\n            </li>\n        );\n    }\n});\n\n/**\n * Toggle Button\n\n * @constructor\n */\nvar ToggleAddNewTool = React.createClass({\n    getInitialState: function() {\n        return {\n            visible: false\n        };\n    },\n    handleToggle: function() {\n        this.setState({\n            visible: !this.state.visible\n        });\n    },\n        handleOptionClick: function(event) {\n            console.log('event', event);\n        //this.props.onOptionClick(this.props.mount_point);\n    },\n\n    render: function () {\n        return (\n            <div>\n                <a onClick={ this.handleToggle } className=\"add-tool-toggle\">\n                    Add New...\n                </a>\n                {this.state.visible &&\n                <ContextMenu\n                    {...this.props}\n                    classes={['admin_modal']}\n                    onOptionClick={this.handleOptionClick}\n                    items={this.props.installableTools} />\n                }\n            </div>\n        )\n    }\n});\n\n/**\n * The NavBar when in \"Normal\" mode.\n\n * @constructor\n */\nvar NormalNavBar = React.createClass({\n    buildMenu: function(item, i) {\n        let classes = window.location.pathname.startsWith(item.url) ? 'active-nav-link' : '';\n\n        var subMenu;\n        if (item.children) {\n            subMenu = item.children.map(this.buildMenu);\n        }\n        return (\n            <NormalNavItem url={item.url} name={item.name} classes={classes} key={`normal-nav-${_.uniqueId()}`}>\n                <ul>\n                    {subMenu}\n                </ul>\n            </NormalNavItem>\n        );\n    },\n\n    onOptionClick: function(e){\n        console.log(e);\n    },\n    render: function() {\n        var listItems = this.props.items.map(this.buildMenu);\n\n        var mount_points = [];\n        for(let item of this.props.items){\n            if(item.hasOwnProperty('mount_point') && item.mount_point !== null){\n                mount_points.push(item.mount_point);\n            } else if(item.hasOwnProperty('children')){\n                for(let child of item.children){\n                    mount_points.push(child.mount_point)\n                }\n            }\n        }\n        console.log(\"mount_points\", mount_points);\n        return (\n            <ul\n                id=\"normal-nav-bar\"\n                className=\"dropdown\">\n                { listItems }\n                <li id=\"add-tool-container\">\n                    <ToggleAddNewTool\n                        {...this.props}\n                        items={this.props.installableTools}\n                        onOptionClick={this.onOptionClick} />\n                </li>\n            </ul>\n        );\n    }\n});\n\n/**\n * The NavBar when in \"Admin\" mode.\n * @constructor\n */\nvar AdminNav = React.createClass({\n    propTypes: {\n        tools: React.PropTypes.arrayOf(ToolsPropType),\n        currentOptionMenu: React.PropTypes.object,\n        onOptionClick: React.PropTypes.func.isRequired\n    },\n\n    buildMenu: function (items, isSubMenu=false) {\n        var _this = this;\n        var [tools, anchored_tools, end_tools] = [[], [], []];\n        var subMenu, childOptionsOpen;\n\n        for (let item of items) {\n            if (item.children) {\n                subMenu = this.buildMenu(item.children, true);\n            } else {\n                subMenu = null;\n            }\n\n            var _handle = isSubMenu ? \"draggable-handle-sub\" : 'draggable-handle';\n\n            var tool_list, is_anchored;\n            if (item.mount_point === 'admin') {\n                // force admin to end, just like 'Project.sitemap()' does\n                tool_list = end_tools;\n                is_anchored = true;\n            } else if (item.is_anchored) {\n                tool_list = anchored_tools;\n                is_anchored = true;\n            } else {\n                tool_list = tools;\n                is_anchored = false;\n            }\n            var core_item = <NavBarItem\n                {..._this.props}\n                mount_point={ item.mount_point }\n                name={ item.name }\n                handleType={_handle}\n                isGrouper={item.children && item.children.length > 0}\n                url={ item.url }\n                key={ 'tb-item-' + _.uniqueId() }\n                is_anchored={ is_anchored }\n                options={ item.admin_options }\n            />;\n            if (subMenu) {\n                childOptionsOpen = _.contains(_.pluck(item.children, 'mount_point'), this.props.currentOptionMenu.tool);\n                tool_list.push(<NavBarItemWithSubMenu key={_.uniqueId()} tool={core_item} subMenu={subMenu} childOptionsOpen={childOptionsOpen}/>);\n            } else {\n                tool_list.push(core_item);\n            }\n        }\n\n        return (\n            <div className='react-drag'>\n                { anchored_tools }\n                <ReactReorderable\n                    key={ 'reorder-' + _.uniqueId() }\n                    handle={\".\" + _handle}\n                    mode={ isSubMenu ? 'list' : 'grid' }\n                    onDragStart={ _this.props.onToolDragStart }\n                    onDrop={ _this.props.onToolReorder }>\n                    { tools }\n                </ReactReorderable>\n                { end_tools }\n            </div>\n        );\n    },\n\n    render: function () {\n        var tools = this.buildMenu(this.props.tools);\n        return <div>{tools}</div>;\n    }\n});\n\nvar NavBarItemWithSubMenu = React.createClass({\n    render: function () {\n        return (\n            <div className={\"tb-item-container\" + (this.props.childOptionsOpen ? \" child-options-open\" : \"\")}>\n                { this.props.tool }\n                {this.props.subMenu &&\n                <AdminItemGroup key={_.uniqueId()}>\n                    {this.props.subMenu}\n                </AdminItemGroup>\n                    }\n            </div>\n        );\n    }\n});\n\n\n/**\n * The NavBar when in \"Admin\" mode.\n * @constructor\n */\nvar AdminItemGroup = React.createClass({\n    render: function () {\n        return (\n            <div className=\"tb-item-grouper\">\n                {this.props.children}\n            </div>\n        );\n    }\n});\n\n/**\n * The button that toggles NavBar modes.\n\n * @constructor\n */\nvar ToggleAdminButton = React.createClass({\n    propTypes: {\n        visible: React.PropTypes.bool\n    },\n    render: function() {\n        var classes = this.props.visible ? 'fa fa-unlock' : 'fa fa-lock';\n        return (\n            <button id='toggle-admin-btn' onClick={ this.props.handleButtonPush } className='admin-toolbar-right'>\n                <i className={ classes }></i>\n            </button>\n        );\n    }\n});\n\n/**\n * The main \"controller view\" of the NavBar.\n\n * @constructor\n * @param {object} initialData\n */\nvar Main = React.createClass({\n    propTypes: {\n        initialData: React.PropTypes.shape({\n            menu: React.PropTypes.arrayOf(ToolsPropType),\n            installableTools: React.PropTypes.array,\n            grouping_threshold: React.PropTypes.number.isRequired\n        }),\n        installableTools: React.PropTypes.array\n    },\n    getInitialState: function() {\n        return {\n            data: this.props.initialData,\n            visible: true,\n            _session_id: $.cookie('_session_id'),\n            currentOptionMenu: {\n                tool: null\n            }\n        };\n    },\n\n    /**\n     * When invoked, this updates the state with the latest data from the server.\n     */\n    getNavJson: function() {\n        $.get(`${_getProjectUrl(false)}/_nav.json?admin_options=1`, function(result) {\n            if (this.isMounted()) {\n                this.setState({\n                    data: result\n                });\n            }\n        }.bind(this));\n    },\n    /**\n     * Handles the locking and unlocking of the NavBar\n     */\n    handleToggleAdmin: function() {\n        this.setState({\n            visible: !this.state.visible\n        });\n    },\n\n    handleShowOptionMenu: function (mount_point) {\n        this.setState({\n            currentOptionMenu: {\n                tool: mount_point,\n            }\n        });\n    },\n\n    /**\n     * Handles the changing of the NavBars grouping threshold.\n\n     * @param {object} event\n     */\n    onUpdateThreshold: function(event) {\n        var _this = this;\n        var thres = event.target.value;\n        var url = `${_getProjectUrl()}/admin/configure_tool_grouping`;\n        var csrf = $.cookie('_session_id');\n        var data = {\n            _session_id: csrf,\n            grouping_threshold: thres\n        };\n        var _data = this.state.data;\n        _data.grouping_threshold = thres;\n        this.setState({\n            data: _data\n        });\n        this.setState({\n            in_progress: true\n        });\n        $.post(url, data, function() {\n        }.bind(this)).always(function() {\n            _this.setState({\n                in_progress: false\n            });\n        });\n\n        _this.getNavJson();\n        return false;\n    },\n\n    /**\n     * Handles the sending and updating tool ordinals.\n\n     * @param {array} data - Array of tools\n     */\n    onToolReorder: function() {\n        $('.react-drag.dragging').removeClass('dragging');\n\n        var params = {_session_id: $.cookie('_session_id')};\n        var toolNodes = $(ReactDOM.findDOMNode(this)).find('span.ordinal-item').not(\".toolbar-grouper\");\n        for (var i = 0; i < toolNodes.length; i++) {\n            params[i] = toolNodes[i].dataset.mountPoint;\n        }\n\n        var _this = this;\n        var url = _getProjectUrl() + '/admin/mount_order';\n        $.ajax({\n            type: 'POST',\n            url: url,\n            data: params,\n            success: function () {\n                $('#messages').notify('Tool order updated',\n                    {\n                        status: 'confirm',\n                        interval: 500,\n                        timer: 2000\n                    });\n                _this.getNavJson();\n            },\n\n            error: function() {\n                $('#messages').notify('Error saving tool order.',\n                    {\n                        status: 'error'\n                    });\n            }\n        });\n    },\n\n    onToolDragStart: function(obj) {\n        // this is done with jQuery instead of rendering different HTML with react\n        // because that means you re-render the HTML while the drag is happening\n        // and the actual dragging doesn't work any more\n        var dragging_mount_point = obj.props.children.props.mount_point;\n        $(`[data-mount-point=${dragging_mount_point}]`).closest('.react-drag').addClass('dragging');\n    },\n\n    render: function() {\n        var _this = this;\n        var navBarSwitch = (showAdmin) => {\n            if (showAdmin) {\n                return (\n                    <AdminNav\n                        tools={ _this.state.data.menu }\n                        installableTools={ _this.state.data.installable_tools }\n                        data={ _this.state.data }\n                        onToolReorder={ _this.onToolReorder }\n                        onToolDragStart={ _this.onToolDragStart }\n                        editMode={ _this.state.visible }\n                        currentOptionMenu={ _this.state.currentOptionMenu }\n                        onOptionClick={ _this.handleShowOptionMenu }\n                        currentToolOptions={this.state.currentToolOptions}\n                    />\n                );\n            } else {\n                return (\n                    <div>\n                        <NormalNavBar\n                            items={ _this.state.data.menu }\n                            installableTools={ _this.state.data.installable_tools }\n                            />\n                    </div>\n                );\n            }\n        };\n        var navBar = navBarSwitch(this.state.visible);\n\n        var max_tool_count = _.chain(this.state.data.menu)\n                             .map((item) => {\n                                 return item.children ? _.pluck(item.children, 'tool_name') : item.tool_name\n                             })\n                             .flatten()\n                             .countBy()\n                             .values()\n                             .max()\n                             .value();\n        var show_grouping_threshold = max_tool_count > 1;\n\n        return (\n            <div\n                className={ 'nav_admin '}>\n                { navBar }\n                <div id='bar-config'>\n                    {show_grouping_threshold &&\n                    <GroupingThreshold\n                        onUpdateThreshold={ this.onUpdateThreshold }\n                        isHidden={ this.state.visible }\n                        initialValue={ parseInt(this.state.data.grouping_threshold) }/> }\n                </div>\n                <ToggleAdminButton\n                    handleButtonPush={ this.handleToggleAdmin }\n                    visible={ this.state.visible }/>\n            </div>\n        );\n    }\n});\n","/*\n       Licensed to the Apache Software Foundation (ASF) under one\n       or more contributor license agreements.  See the NOTICE file\n       distributed with this work for additional information\n       regarding copyright ownership.  The ASF licenses this file\n       to you under the Apache License, Version 2.0 (the\n       \"License\"); you may not use this file except in compliance\n       with the License.  You may obtain a copy of the License at\n\n         http://www.apache.org/licenses/LICENSE-2.0\n\n       Unless required by applicable law or agreed to in writing,\n       software distributed under the License is distributed on an\n       \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n       KIND, either express or implied.  See the License for the\n       specific language governing permissions and limitations\n       under the License.\n*/\n'use strict';\n\n/**\n * React Tooltip (tooltipster) Base class\n\n * @constructor\n */\nclass ToolTip extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    static propTypes = {\n        animation: React.PropTypes.string,\n        speed: React.PropTypes.number,\n        position: React.PropTypes.string,\n        contentAsHTML: React.PropTypes.bool,\n        delay: React.PropTypes.number,\n        theme: React.PropTypes.string,\n        maxWidth: React.PropTypes.number,\n        trigger: React.PropTypes.string,\n        multiple: React.PropTypes.bool,\n        classes: React.PropTypes.array,\n        text: React.PropTypes.string.isRequired,\n        href: React.PropTypes.string.isRequired,\n        toolTip: React.PropTypes.string\n    };\n\n    static defaultProps = {\n        animation: 'fade',\n        speed: 150,\n        delay: 0,\n        maxWidth: 300,\n        multiple: true,\n        contentAsHTML: false,\n        position: 'left',\n        trigger: 'hover',\n        classes: [],\n        theme: 'tooltipster-light'\n    };\n\n\n    componentDidMount() {\n        var _this = this;\n        $(\".react-tooltip\").tooltipster({\n            animation: _this.props.animation,\n            speed: _this.props.speed,\n            delay: _this.props.delay,\n            theme: _this.props.theme,\n            contentAsHTML: _this.props.contentAsHTML,\n            trigger: _this.props.trigger,\n            position: _this.props.position,\n            multiple: _this.props.multiple,\n            iconCloning: false,\n            maxWidth: _this.props.maxWidth\n        })\n    }\n\n}\n\n/**\n * Tooltip Link\n\n * @constructor\n */\nclass ToolTipLink extends ToolTip {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        var classes = this.props.classes.join(' ') + \" react-tooltip\";\n        return <a href={this.props.href} className={classes} title={this.props.toolTip}>{this.props.text}</a>\n    }\n}"],"names":[],"mappings":"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","file":"transpiled.js"}