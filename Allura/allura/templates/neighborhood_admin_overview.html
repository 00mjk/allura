{% extends g.theme.master %}
    
{% block title %}{{neighborhood.name}} / Overview{% endblock %}

{% block header %}Administration Overview for {{neighborhood.name}}{% endblock %}

{% block nav_menu %}
{% include 'allura:templates/jinja_master/neigh_nav_menu.html' %}
{% endblock %}

{% block top_nav %}
{% include 'allura:templates/jinja_master/neigh_top_nav.html' %}
{% endblock %}

{% block content %}
  <form method="POST" action="update" enctype="multipart/form-data">
    <label class="grid-4">Name</label>
    <div class="grid-14"><input type="text" name="name" value="{{neighborhood.name}}"></div>
    <label class="grid-4">Redirect</label>
    <div class="grid-14"><input type="text" name="redirect" value="{{neighborhood.redirect}}"/></div>
    <label class="grid-4">Home Content (HTML)</label>
    <div class="grid-14">{{c.markdown_editor.display(name='homepage', value=neighborhood.homepage)}}</div>
    <label class="grid-4">Allow Browsing</label>
    <div class="grid-14"><input type="checkbox" name="allow_browse" {% if neighborhood.allow_browse %}checked="checked"{% endif %}/></div>
    <label class="grid-4">Custom CSS</label>
    <div class="grid-14"><textarea name="css">{{neighborhood.css}}</textarea></div>
    <label class="grid-4">Icon</label>
    <div class="grid-14">
      {% if neighborhood.icon %}
        <img src="{{neighborhood.url()}}/icon" style="vertical-align: middle" alt=""/>
      {% endif %}
      {{lib.file_field('icon', '')}}
    </div>
    <label class="grid-4">&nbsp;</label>
    <div class="grid-14"><input type="submit" value="Save"/></div>
  </form>
{% endblock %}

{% block extra_js %}
  <script type="text/javascript">
    $('div.editable').each(function () {
      var $editable = $(this);
      $('div.viewer', $editable).click(function () {
        if ($('textarea.auto_resize', $editable)) {
          $('textarea.auto_resize', $editable)[1].style.height = "200px";
        }
      });
    });
  </script>
{% endblock %}
