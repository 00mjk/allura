{% extends g.theme.master %}
    
{% block title %}{{neighborhood.name}} / Overview{% endblock %}

{% block header %}Administration Overview for {{neighborhood.name}}{% endblock %}

{% block nav_menu %}
{% include 'jinja_master/neigh_nav_menu.html' %}
{% endblock %}

{% block top_nav %}
{% include 'jinja_master/neigh_top_nav.html' %}
{% endblock %}

{% block content %}
  <form method="POST" action="update" enctype="multipart/form-data">
    <label class="grid-2">Name</label>
    <div class="grid-7"><input name="name" value="{{neighborhood.name}}"></div>
    <label class="grid-2">Redirect</label>
    <div class="grid-7"><input name="redirect" value="{{neighborhood.redirect}}"/></div>
    <label class="grid-2">Home Content (HTML)</label>
    <div class="grid-7">{{c.markdown_editor.display(name='homepage', value=neighborhood.homepage)}}</div>
    <label class="grid-2">Allow Browsing</label>
    <div class="grid-7"><input type="checkbox" name="allow_browse" {% if neighborhood.allow_browse %}checked="checked"{% endif %}/></div>
    <label class="grid-2">Custom CSS</label>
    <div class="grid-7"><textarea name="css">{{neighborhood.css}}</textarea></div>
    <label class="grid-2">Icon</label>
    <div class="grid-7">
      {% if neighborhood.icon %}
        <img src="{{neighborhood.url()}}/icon" style="vertical-align: middle">
      {% endif %}
      {{lib.file_field('icon', '')}}
    </div>
    <label class="grid-2">&nbsp;</label>
    <div class="grid-7"><input type="submit" value="Save"/></div>
  </form>
{% endblock %}

{% block extra_js %}
  <script type="text/javascript">
    $('div.editable').each(function(){
      var $editable = $(this);
      $('div.viewer', $editable).click(function(){
        if($('textarea.auto_resize', $editable)){
          $('textarea.auto_resize', $editable)[1].style.height="200px";
        }
      });
    });
  </script>
{% endblock %}