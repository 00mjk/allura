{% extends g.theme.master %}

{% block extra_css %}
    <link rel="alternate" type="application/rss+xml" title="RSS" href="{{c.app.url}}feed.rss"/>
    <link rel="alternate" type="application/atom+xml" title="Atom" href="{{c.app.url}}feed.atom"/>
{% endblock %}

{% macro clone_info(repo) %}
  {% if repo %}
    <label for="ro" class="grid-3">Read-only</label>
    <div class="grid-16">
      <input id="ro" style="width:40em;" readonly type="text"
             class="selectText"
             value="{{repo.readonly_clone_command()}}"/>
    </div>
    {% if h.has_artifact_access('write')() %}
    <label for="rw" class="grid-3">Read / write</label>
    <div class="grid-16">
      <input id="rw" style="width:40em;" readonly type="text"
             class="selectText"
             value="{{repo.readwrite_clone_command()}}"/>
    </div>
    <p>The repository is also available via HTTPS for those who are unable to use the above methods due to firewall restrictions.  HTTPS is slower and requires more bandwidth than any other access method.</p>
    <label for="rw_https" class="grid-3">Read / write</label>
    <div class="grid-16">
      <input id="rw_https" style="width:40em;" readonly type="text"
             class="selectText"
             value="{{repo.readwrite_https_command()}}"/>
    </div>
    <br style="clear:both;"/>
    {% endif %}
  {% endif %}
{% endmacro %}

{% macro commit_labels(commit) %}
  {% set branches, tags = commit.symbolic_ids %}
  {% for b in branches %}
    <span class="scm-branch-label">{{b}}</span>
  {% endfor %}
  {% for t in tags %}
    <span class="scm-tag-label">{{t}}</span>
  {% endfor %}
{% endmacro %}
