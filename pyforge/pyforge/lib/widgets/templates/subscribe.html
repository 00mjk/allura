<form xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      name="$name"
      id="$name"
      method="$method"
      action="$action"
      enctype="$enctype"
      py:attrs="attrs">
  <py:if test="value">
    <py:if test="style == 'icon'">
      <button name="unsubscribe" value="unsubscribe" title="Unsubscribe from this ${thing}"
              class="artifact_unsubscribe ui-button ui-widget ui-state-active ui-corner-all ui-button-icon-only">
        <span class="ui-button-icon-primary ui-icon ui-icon-mail-closed"></span>
        <span class="ui-button-text">Unsubscribe from this ${thing}</span>
      </button>
    </py:if>
    <py:if test="style != 'icon'">
      You are currently subscribed to this ${thing}.
      <br/>
      ${fields['unsubscribe'].display()}
    </py:if>
  </py:if>
  <py:if test="not value">
    <py:if test="style == 'icon'">
      <button name="subscribe" value="subscribe" title="Subscribe to this ${thing}"
              class="artifact_subscribe ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only">
        <span class="ui-button-icon-primary ui-icon ui-icon-mail-closed"></span>
        <span class="ui-button-text">Subscribe to this ${thing}</span>
      </button>
    </py:if>
    <py:if test="style != 'icon'">
      You are currently not subscribed to this ${thing}.
      <br/>
      ${fields['subscribe'].display()}
    </py:if>
  </py:if>
</form>
