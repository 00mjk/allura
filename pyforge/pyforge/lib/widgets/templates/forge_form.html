<form xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      method="POST"
      enctype="$enctype"
      action="$action">
  <?python from ew import HiddenField?>
  <ol>
    <py:for each="i, field in enumerate(fields)">
      <li py:if="not isinstance(fields[i],HiddenField)">
        <label for="$field.name">$field.label:</label>
        ${Markup(c.widget.widget_type.display_field_by_idx(i))}
      </li>
      <py:if test="isinstance(fields[i],HiddenField)">
        ${Markup(c.widget.widget_type.display_field_by_idx(i))}
      </py:if>
    </py:for>
    <li>
      <label>&nbsp;</label>
      <input type="submit" id="submit" value="$submit_text"/>
    </li>
  </ol>
</form>