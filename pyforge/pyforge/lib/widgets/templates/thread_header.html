<div xmlns="http://www.w3.org/1999/xhtml"
     xmlns:py="http://genshi.edgewall.org/"
     py:strip="True">
  <?python from pyforge.lib.security import has_artifact_access?>
  <h1 class="title">${'subject' in value and value.subject or '(no subject)'}</h1>
	<div class="content">
		<div class="row">
			<div class="column grid_12">
        <div  py:if="limit"
              py:with="cur_page=page / limit; num_pages=count/limit">
          <div class="span-3">Page ${1 + cur_page} of ${1 + num_pages}</div>
          <div class="span-16 tright last" id="discuss">
            <a py:if="num_pages and cur_page > 0" href="?page=${page - limit}">&larr; Prev</a>
            <a py:if="num_pages and cur_page &lt; num_pages" href="?page=${page + limit}">Next &rarr;</a>
          </div>
        </div>
        <hr class="clear clearfix space"/>
        <p>Thread Shortlink: [${value.shorthand_id()}]</p>
        <div class="title-pane closed" py:if="show_moderate and has_artifact_access('moderate', value)()">
          <span class="title">Moderate thread</span>
          <div class="content">
            ${widgets.moderate_thread.display(value=value, action=value.url()+'moderate')}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
