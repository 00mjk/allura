{% from 'jinja_master/lib.html' import email_gravatar with context %}
{% if value.author_url %}
  Authored by
  <a href="{{value.author_url}}">{{email_gravatar(value.authored.email, title=h.really_unicode(value.authored.name), size=16)}}</a>
  <a href="{{value.author_url}}">{{h.really_unicode(value.authored.name)}}</a>
{% else %}
  Authored by
  {{email_gravatar(value.authored.email, title=h.really_unicode(value.authored.name), size=16)}} {{h.really_unicode(value.authored.name)}}
{% endif %}
{% if value.authored.date %}{{h.ago(value.authored.date)}}{% endif %}
{% if value.committed.email != value.authored.email %}
  {% if value.committer_url %}
    Committed by
    <a href="{{value.committer_url}}">{{email_gravatar(value.committed.email, title=h.really_unicode(value.committed.name), size=16)}}</a>
    <a href="{{value.committer_url}}">{{h.really_unicode(value.committed.name)}}</a>
  {% else %}
    Committed by
    {{email_gravatar(value.committed.email, title=h.really_unicode(value.committed.name), size=16)}} {{h.really_unicode(value.committed.name)}}
  {% endif %}
  {% if value.committed.date %}{{h.ago(value.committed.date)}}{% endif %}
{% endif %}

<br/>
<a href="{{value.url()}}tree/">Tree</a><br/>
{% if prev %}
  Parent(s):
  {% for ci in prev %}<a href="{{ci.url()}}">{{h.text.truncate(ci.object_id, 10)}}</a>{% endfor %}
  <br/>
{% endif %}
{% if next %}
  Child(ren):
  {% for ci in next %}<a href="{{ci.url()}}">{{h.text.truncate(ci.object_id, 10)}}</a>{% endfor %}
  <br/>
{% endif %}
{{g.markdown.convert(h.really_unicode(value.message))}}
