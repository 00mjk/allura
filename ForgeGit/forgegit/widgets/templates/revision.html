<div xmlns="http://www.w3.org/1999/xhtml"
     xmlns:py="http://genshi.edgewall.org/"
     xmlns:xi="http://www.w3.org/2001/XInclude"
     style="background-color:#eee;border-top:1px solid #333;">
  <xi:include href="${g.pyforge_templates}/lib.html"/>
  Commit <a href="${value.url()}">${h.text.truncate(value.sha, 10)}</a>: 
  ${h.ago(value.committed_datetime)}<br/>
  ${Markup(g.markdown.convert(value.message))}
  <p class="gravatar">
    <py:if test="value.author_url is not None">
      <a href="${value.author_url}">${gravatar(value.author.email)}</a><br/>
      <a href="${value.author_url}">$value.author.name</a> (author)<br/>
    </py:if>
    <py:if test="value.author_url is None">
      ${gravatar(value.author.email)}<br/>
      $value.author.name (author)<br/>
    </py:if>
    ${h.ago(value.authored_datetime)}      
  </p> 
  <p py:if="value.committer != value.author" class="gravatar">
    <py:if test="value.committer_url is not None">
      <a href="${value.committer_url}">${gravatar(value.committer.email)}</a><br/>
      <a href="${value.committer_url}">$value.committer.name</a> (committer)<br/>
    </py:if>
    <py:if test="value.committer_url is None">
      ${gravatar(value.committer.email)}<br/>
      $value.committer.name (committer)<br/>
    </py:if>
    ${h.ago(value.committed_datetime)}      
  </p> 
</div>
