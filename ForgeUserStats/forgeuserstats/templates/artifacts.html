{% set hide_left_bar = True %}
{% extends g.theme.master %}

{% block title %}User stats{% endblock %}

{% block header %}
    Statistics about {{user.display_name}}'s contribution â€“ Artifacts
{% endblock %}

{% block content %}

  {% if user %}
    <div class="grid-20">
      <ul><li><a href="/userstats/{{user.username}}">Go back to general statistics</a></li></ul>
    </div>

    {% if data %}
    <div class="grid-20">
      <h2>Statistics by category</h2>
      <table>
        <thead>
          <tr>
            <th>Category</th>
            <th>Created artifacts</th>
            <th>Modified artifacts</th>
          </tr>
        </thead>
        <tbody> 
          {% for cat, row in data.items() %}
            <tr>
              <td>{% if cat %}{{cat.fullname}}{% else %}All categories{% endif %}</td>
              <td>
                {% for details in row %}
                  {% if details.messagetype %} {{details.messagetype}}:
                  {% else %}Total:{% endif %} {{details.created}}<br/>
                {% endfor %}
              </td>
              <td>
                {% for details in row %}
                  {% if details.messagetype %} {{details.messagetype}}:
                  {% else %}Total:{% endif %} {{details.modified}}<br/>
                {% endfor %}
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% endif %}
  {% endif %}

{% endblock %}
